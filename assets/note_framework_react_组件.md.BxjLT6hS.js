import{_ as a,c as t,o as i,ae as e}from"./chunks/framework.CMFi8ROq.js";const k=JSON.parse('{"title":"组件","description":"","frontmatter":{},"headers":[],"relativePath":"note/framework/react/组件.md","filePath":"note/framework/react/组件.md","lastUpdated":1747540987000}'),n={name:"note/framework/react/组件.md"};function p(l,s,h,r,o,c){return i(),t("div",null,s[0]||(s[0]=[e(`<h1 id="组件" tabindex="-1">组件 <a class="header-anchor" href="#组件" aria-label="Permalink to &quot;组件&quot;">​</a></h1><p>React的组件分为两种：函数组件和类组件。 函数组件是一个Javascript函数，它接受一个props对象作为参数，并返回一个react元素；由于类组件目前已经不推荐使用，因此这里不说了。</p><p>下面是一个函数组件的例子。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>// 定义了一个头像组件。</span></span>
<span class="line"><span>function Head(props) {    </span></span>
<span class="line"><span>    return (&lt;div&gt;             </span></span>
<span class="line"><span>        &lt;img src=&quot;props.user.headUrl&quot;&gt;&lt;/img&gt;             </span></span>
<span class="line"><span>        &lt;span&gt;{props.user.userName}&lt;/span&gt;            </span></span>
<span class="line"><span>        &lt;div&gt;); </span></span>
<span class="line"><span>}</span></span></code></pre></div><p>需要注意的是：</p><ul><li>组件名称必须以大写字母开头。React 会将以小写字母开头的组件视为原生 DOM 标签。例如，<code>&lt;div/&gt; </code>代表 HTML 的 div 标签，而<code>&lt;Welcome/&gt;</code> 则代表一个组件，并且需在作用域内使用 Welcome。</li></ul><h2 id="受控组件与非受控组件" tabindex="-1">受控组件与非受控组件 <a class="header-anchor" href="#受控组件与非受控组件" aria-label="Permalink to &quot;受控组件与非受控组件&quot;">​</a></h2><p>在学习React过程中，我们必然能够看到受控组件与非受控组件的概念。也许初看官方文档或许的确有些令人迷茫的地方。那么什么是受控组件与非受控组件呢？</p><p>在html元素中，通常能够与用户进行数据交互的就只有表单元素了，而在表单元素中，无论是能够接收用户输入文本数据的<code>&lt;input/&gt;</code>元素还是能够让用户进行选择的<code>&lt;select/&gt;</code>元素，它的内部都会维护一个变量，这个变量存储着用户交互的数据。而React为了实现数据的双向绑定，必然要将数据保存在自定义的state组件中。这种由React控制表单值的组件就被称为<strong>受控组件</strong>。</p><p>而并未将值保存在受React控制的变量中的表单元素，就被称为<strong>非受控组件</strong>。</p><p><a href="https://tarojsx.github.io/blog/2020-06-25-what-is-react/" target="_blank" rel="noreferrer">https://tarojsx.github.io/blog/2020-06-25-what-is-react/</a></p><h2 id="组件的状态state" tabindex="-1">组件的状态<code>state</code> <a class="header-anchor" href="#组件的状态state" aria-label="Permalink to &quot;组件的状态\`state\`&quot;">​</a></h2><p><a href="https://zh-hans.reactjs.org/docs/state-and-lifecycle.html" target="_blank" rel="noreferrer">state</a>也称为状态，根据组件是否存在state可以将组件分为有<strong>状态组件</strong>和<strong>无状态组件</strong>。有状态组件一般指的是类组件，而无状态的组件一般指的是函数组件。但是随着React Hoos的更新，函数组件也可以是有状态的。</p><p>在类组件中，构造函数是唯一可以为state赋值的地方。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(props: any) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(props);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            topList: [],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span></code></pre></div><p>使用state有两个需要注意的地方。</p><ul><li>不要直接修改state。state的修改必须通过 <code>setState() </code>函数进行修改，否则组件不会被重新渲染。</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 不正确的做法</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.state.topList </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [{ a:  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  b: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 正确做法</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     topList: []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span></code></pre></div><ul><li>state的更新可能是异步的。React可能会把多个setState合并成一个调用。因此当你调用了setState之后，state可能不会立刻更新。</li></ul><h4 id="有状态组件和无状态组件的区别" tabindex="-1">有状态组件和无状态组件的区别 <a class="header-anchor" href="#有状态组件和无状态组件的区别" aria-label="Permalink to &quot;有状态组件和无状态组件的区别&quot;">​</a></h4><h4 id="为什么state的更新是异步的" tabindex="-1">为什么State的更新是异步的 <a class="header-anchor" href="#为什么state的更新是异步的" aria-label="Permalink to &quot;为什么State的更新是异步的&quot;">​</a></h4><p><a href="https://juejin.cn/post/6844903715921477640" target="_blank" rel="noreferrer">https://juejin.cn/post/6844903715921477640</a></p><h2 id="组件的渲染" tabindex="-1">组件的渲染 <a class="header-anchor" href="#组件的渲染" aria-label="Permalink to &quot;组件的渲染&quot;">​</a></h2><p>在 React 中，直接为组件设置 <code>displayName</code> 属性的主要目的是提高调试和开发体验。React DevTools 会使用组件的 <code>displayName</code> 属性来显示组件的名称。如果没有显式设置 <code>displayName</code>，React 会尝试推断组件的名称，但在某些情况下（如高阶组件或匿名函数组件），推断的名称可能不准确或不可读。</p>`,24)]))}const g=a(n,[["render",p]]);export{k as __pageData,g as default};
